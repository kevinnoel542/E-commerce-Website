2025-07-13 10:33:21 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:33:21 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:33:23 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:33:23 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:33:25 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 10:33:34 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 10:34:13 | INFO | ecommerce.auth | Login attempt for itslgenge01@gmail.com
2025-07-13 10:34:14 | INFO | ecommerce | Attempting Supabase login for itslgenge01@gmail.com
2025-07-13 10:34:14 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 10:34:14 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025057494EC0>
2025-07-13 10:34:14 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025054551F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 10:34:14 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576A8690>
2025-07-13 10:34:14 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 10:34:14 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:34:14 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 10:34:14 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:34:14 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 10:34:16 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 07:34:59 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'81'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e719d82bd7738b-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'95'), (b'x-sb-error-code', b'invalid_credentials'), (b'Set-Cookie', b'__cf_bm=9SN1M_TSGEbiQxY69u1zEw2W4_C2eGU0CUXW1VdpINc-1752392099-1.0.1.1-XPQYcg19SjiZS.mbFzc_9PxOI_4OH9erHUmiLQKRhbe73uoPSFdGHmMN7bbGISEIAaRnAAYQ.s8IuxnTPIX1ydTKGmuD9gEq05_9n534D4Q; path=/; expires=Sun, 13-Jul-25 08:04:59 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:34:16 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 400 Bad Request"
2025-07-13 10:34:16 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 10:34:16 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:34:16 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:34:16 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:34:16 | ERROR | ecommerce | Supabase login failed for itslgenge01@gmail.com: Invalid login credentials
2025-07-13 10:34:16 | INFO | ecommerce.auth | Auth LOGIN: itslgenge01@gmail.com | Status: FAILED
2025-07-13 10:35:12 | INFO | ecommerce.auth | Login attempt for starkalyboy@gmail.com
2025-07-13 10:35:12 | INFO | ecommerce | Attempting Supabase login for starkalyboy@gmail.com
2025-07-13 10:35:12 | DEBUG | httpcore.connection | close.started
2025-07-13 10:35:12 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:35:12 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 10:35:13 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576A9F90>
2025-07-13 10:35:13 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025054551F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 10:35:13 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576B0C30>
2025-07-13 10:35:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 10:35:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:35:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 10:35:13 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:35:13 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 10:35:14 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:35:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e71b4569de739a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'97'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:35:14 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 10:35:14 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 10:35:14 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:35:14 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:35:14 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:35:14 | INFO | ecommerce | Supabase login response for starkalyboy@gmail.com: user_id=8716c5ff-5642-4fed-aa1d-33498e3cfe4d
2025-07-13 10:35:14 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:35:14 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:35:16 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:35:17 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576B16E0>
2025-07-13 10:35:17 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025057427EC0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:35:17 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576C04D0>
2025-07-13 10:35:17 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:35:17 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:35:17 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:35:17 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:35:17 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:35:18 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:36:01 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e71b5e49b073f9-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'4'), (b'Set-Cookie', b'__cf_bm=QF2FaFPT1uy5IypkQJngMW0KOFgaV_XHgn1Z6uKBcmo-1752392161-1.0.1.1-m14egaQ7PlV91uipfwogsnvDXbRCsq8nw3NV6Wxno.85UrDKB9xemENmWKqaKbozxqnC3rupXpYXhgxZLvUpkn.CYFSPCvTxYTwKLKcdS60; path=/; expires=Sun, 13-Jul-25 08:06:01 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:35:18 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 10:35:18 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:35:18 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:35:18 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:35:18 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:35:18 | INFO | ecommerce.auth | Auth LOGIN: starkalyboy@gmail.com | Status: SUCCESS
2025-07-13 10:35:45 | INFO | ecommerce | API Request: GET /api/v1/products/
2025-07-13 10:35:46 | DEBUG | httpcore.connection | close.started
2025-07-13 10:35:46 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:35:46 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:35:46 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576CC380>
2025-07-13 10:35:46 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025057427EC0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:35:46 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576CC490>
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:35:46 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:36:30 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-4/*'), (b'CF-Ray', b'95e71c139b48740a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&limit=20&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'5'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:35:46 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True&limit=20 "HTTP/1.1 200 OK"
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:35:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:36:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-4/*'), (b'CF-Ray', b'95e71c1cfb9d740a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:35:48 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True "HTTP/1.1 200 OK"
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:35:48 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:28 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: starkalyboy@gmail.com
2025-07-13 10:36:28 | DEBUG | httpcore.connection | close.started
2025-07-13 10:36:28 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:36:28 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:36:28 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576D8E50>
2025-07-13 10:36:28 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025057427EC0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:36:29 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576D9A50>
2025-07-13 10:36:29 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:29 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:29 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:29 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:29 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:13 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e71d1ebd674ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:30 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&limit=20 "HTTP/1.1 200 OK"
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:30 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:14 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e71d27bdca4ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:31 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e71d2b59064ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:31 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c "HTTP/1.1 200 OK"
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:31 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e71d319f714ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:32 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:32 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e71d36dd1f4ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'4'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:33 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471 "HTTP/1.1 200 OK"
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:37:17 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e71d39f84d4ec0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:36:33 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e "HTTP/1.1 200 OK"
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:36:33 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:36:34 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:36:34 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:37:01 | INFO | ecommerce | API Request: POST /api/v1/orders/33fa70c0-befa-4532-9474-84e92615fa2/payment | User: starkalyboy@gmail.com
2025-07-13 10:37:02 | DEBUG | httpcore.connection | close.started
2025-07-13 10:37:02 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:37:02 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:37:02 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025057719130>
2025-07-13 10:37:02 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025057427EC0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:37:02 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025057719220>
2025-07-13 10:37:02 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:37:02 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 07:37:47 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e71df25f3673e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:37:03 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.33fa70c0-befa-4532-9474-84e92615fa2 "HTTP/1.1 400 Bad Request"
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:37:03 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:37:04 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:37:04 | ERROR | app.db.client | Error getting record from orders: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "33fa70c0-befa-4532-9474-84e92615fa2"'}
2025-07-13 10:37:04 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "33fa70c0-befa-4532-9474-84e92615fa2"'} | Context: Getting order 33fa70c0-befa-4532-9474-84e92615fa2
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 173, in get_order
    order_data = await db.get_record("orders", order_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "33fa70c0-befa-4532-9474-84e92615fa2"'}
2025-07-13 10:37:50 | INFO | ecommerce | API Request: POST /api/v1/orders/d8bf79b5-e7e9-4078-9f6c-6c6891f0259/payment | User: starkalyboy@gmail.com
2025-07-13 10:37:50 | DEBUG | httpcore.connection | close.started
2025-07-13 10:37:50 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:37:50 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:37:50 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576FE270>
2025-07-13 10:37:50 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025057427EC0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:37:50 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000250576FE350>
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 07:38:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e71f1ed84c73ba-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:37:51 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259 "HTTP/1.1 400 Bad Request"
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:37:51 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:37:52 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:37:52 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:37:52 | ERROR | app.db.client | Error getting record from orders: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "d8bf79b5-e7e9-4078-9f6c-6c6891f0259"'}
2025-07-13 10:37:52 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "d8bf79b5-e7e9-4078-9f6c-6c6891f0259"'} | Context: Getting order d8bf79b5-e7e9-4078-9f6c-6c6891f0259
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 173, in get_order
    order_data = await db.get_record("orders", order_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "d8bf79b5-e7e9-4078-9f6c-6c6891f0259"'}
2025-07-13 10:54:53 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:54:53 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:54:55 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:54:55 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:54:57 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 10:55:07 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 10:56:43 | INFO | ecommerce.auth | Login attempt for itslgenge01@gmail.co
2025-07-13 10:56:43 | INFO | ecommerce | Attempting Supabase login for itslgenge01@gmail.co
2025-07-13 10:56:44 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 10:56:46 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D58EC0>
2025-07-13 10:56:46 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B4A71F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 10:56:47 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B79C8690>
2025-07-13 10:56:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 10:56:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:56:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 10:56:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:56:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 10:56:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 07:57:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e73adcdf307415-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'91'), (b'x-sb-error-code', b'email_not_confirmed'), (b'Set-Cookie', b'__cf_bm=bEtRmzpup8DXiN8dqGi3AsMFlgweYU6xwm_4Y4ebjzM-1752393452-1.0.1.1-ddPxnjw2tJzS9bjJggoptUj3akJRz5nrynWVaWL2vvegfzat9kHYSFsz2svneruokfBq.T2G3sslFE8DiEbfuwzFlybtaYTRszO.FlUQIBc; path=/; expires=Sun, 13-Jul-25 08:27:32 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:56:49 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 400 Bad Request"
2025-07-13 10:56:49 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 10:56:49 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:56:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:56:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:56:49 | ERROR | ecommerce | Supabase login failed for itslgenge01@gmail.co: Email not confirmed
2025-07-13 10:56:49 | INFO | ecommerce.auth | Auth LOGIN: itslgenge01@gmail.co | Status: FAILED
2025-07-13 10:57:46 | INFO | ecommerce.auth | Login attempt for starkalyboy@gmail.como
2025-07-13 10:57:46 | INFO | ecommerce | Attempting Supabase login for starkalyboy@gmail.como
2025-07-13 10:57:46 | DEBUG | httpcore.connection | close.started
2025-07-13 10:57:46 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:57:47 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 10:57:47 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B79C9950>
2025-07-13 10:57:47 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B4A71F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 10:57:47 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D61220>
2025-07-13 10:57:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 10:57:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:57:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 10:57:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:57:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 10:57:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 07:58:31 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'81'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e73c55ed244eb5-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'4'), (b'x-sb-error-code', b'invalid_credentials'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:57:48 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 400 Bad Request"
2025-07-13 10:57:48 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 10:57:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:57:48 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:57:48 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:57:48 | ERROR | ecommerce | Supabase login failed for starkalyboy@gmail.como: Invalid login credentials
2025-07-13 10:57:48 | INFO | ecommerce.auth | Auth LOGIN: starkalyboy@gmail.como | Status: FAILED
2025-07-13 10:58:03 | INFO | ecommerce.auth | Login attempt for starkalyboy@gmail.com
2025-07-13 10:58:03 | INFO | ecommerce | Attempting Supabase login for starkalyboy@gmail.com
2025-07-13 10:58:05 | DEBUG | httpcore.connection | close.started
2025-07-13 10:58:06 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:58:06 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 10:58:07 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D62060>
2025-07-13 10:58:07 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B4A71F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 10:58:07 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D6C5F0>
2025-07-13 10:58:07 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 10:58:07 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:58:07 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 10:58:08 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:58:08 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 10:58:09 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:58:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e73cd3dfb53983-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'103'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:58:10 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 10:58:10 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 10:58:10 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:58:11 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:58:12 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:58:16 | INFO | ecommerce | Supabase login response for starkalyboy@gmail.com: user_id=8716c5ff-5642-4fed-aa1d-33498e3cfe4d
2025-07-13 10:58:17 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 10:58:18 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 10:58:25 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:58:25 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D709E0>
2025-07-13 10:58:25 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B7957F50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:58:25 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D70AF0>
2025-07-13 10:58:26 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:58:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:58:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:58:26 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:58:26 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:58:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 07:59:10 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73d4778d573c6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Set-Cookie', b'__cf_bm=ghX6na3JEKaEWc64VpgbRt7K7r0xRAWJZ1DhYM4adZk-1752393550-1.0.1.1-oqys8Lom0.Q8sbkSyyVYW580hkJtUR1aI8kR2WDIfe08S4EsQ0K2B.sbicOGfU8.aHtVwlLRTK1uL4wNkUHIK5Wm_V2YXrjqzxsHMo5dJtM; path=/; expires=Sun, 13-Jul-25 08:29:10 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:58:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 10:58:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:58:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:58:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:58:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:58:29 | INFO | ecommerce.auth | Auth LOGIN: starkalyboy@gmail.com | Status: SUCCESS
2025-07-13 10:59:44 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: starkalyboy@gmail.com
2025-07-13 10:59:44 | DEBUG | httpcore.connection | close.started
2025-07-13 10:59:44 | DEBUG | httpcore.connection | close.complete
2025-07-13 10:59:44 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 10:59:44 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D81950>
2025-07-13 10:59:44 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B7957F50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 10:59:44 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7D81B50>
2025-07-13 10:59:44 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:45 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:45 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:45 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:45 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e73f34cacf73e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:46 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&limit=20 "HTTP/1.1 200 OK"
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:46 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:47 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:31 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e73f3cab9873e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:47 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 10:59:47 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:47 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:47 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73f47a83173e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:49 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c "HTTP/1.1 200 OK"
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:33 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73f4e5faa73e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:49 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:49 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:33 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73f520bd873e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:50 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471 "HTTP/1.1 200 OK"
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 10:59:50 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 10:59:51 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:00:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73f5729c073e1-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 10:59:51 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e "HTTP/1.1 200 OK"
2025-07-13 10:59:51 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 10:59:51 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 10:59:51 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 10:59:51 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:00:16 | INFO | ecommerce | API Request: POST /api/v1/orders/33fa70c0-befa-4532-9474-84e92615fa22/payment | User: starkalyboy@gmail.com
2025-07-13 11:00:16 | DEBUG | httpcore.connection | close.started
2025-07-13 11:00:16 | DEBUG | httpcore.connection | close.complete
2025-07-13 11:00:16 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 11:00:16 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7DBCE60>
2025-07-13 11:00:16 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B7957F50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 11:00:16 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7DBCF50>
2025-07-13 11:00:16 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 11:00:16 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:00:16 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 11:00:16 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:00:16 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:01:00 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e73ff8dbfb73b0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:00:17 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:00:17 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:01:01 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e740003c7473b0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:00:18 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:01:02 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e7400398e673b0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:00:18 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:00:18 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:00:19 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:00:22 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x000001F0B7D89400> cert=None trust_env=True http2=False
2025-07-13 11:00:22 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 11:00:22 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2333fa70c0-befa-4532-9474-84e92615fa22&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250712-4C7C3BB2&line_items[0][price_data][unit_amount]=707988&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22&customer_email=starkalyboy%40gmail.com&metadata[order_id]=33fa70c0-befa-4532-9474-84e92615fa22&metadata[customer_email]=starkalyboy%40gmail.com
2025-07-13 11:00:22 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 11:00:32 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3054
2025-07-13 11:00:32 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 11:00:32 | DEBUG | stripe | body='{\n  "id": "cs_test_a1P9oy26fGL47TpMSnNRTs7Vv75RxFOlO49WV1rHwu3zKavGN62kXYmuWQ",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 707988,\n  "amount_total": 707988,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=33fa70c0-befa-4532-9474-84e92615fa22",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752393675,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "starkalyboy@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "starkalyboy@gmail.com",\n  "discounts": [],\n  "expires_at": 1752480075,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "starkalyboy@gmail.com",\n    "order_id": "33fa70c0-befa-4532-9474-84e92615fa22"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=33fa70c0-befa-4532-9474-84e92615fa22&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1P9oy26fGL47TpMSnNRTs7Vv75RxFOlO49WV1rHwu3zKavGN62kXYmuWQ#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 11:00:33 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_WhbUxGmUcBVKX7 message='Dashboard link for request'
2025-07-13 11:00:33 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 11:00:33 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:00:33 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:00:36 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 11:00:36 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7DACBB0>
2025-07-13 11:00:36 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F0B79569F0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 11:00:37 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F0B7DAC050>
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 08:01:21 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e7407a1826740d-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Set-Cookie', b'__cf_bm=HBDt333CMI34g7RWg4uO3x2oRBIBuRLuTtrYSEwYvuc-1752393681-1.0.1.1-tmR1fcYWr5KKdg1YJSZ6iOw7WFmHOMcfGjJ82Qn58ZWgYzdFa6My.n_3jZfi7iERMHk_oCvUxv_GP8xObW8dMWA96HZu_8caKNeskt7duTM; path=/; expires=Sun, 13-Jul-25 08:31:21 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:00:37 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 403 Forbidden"
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:00:37 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:00:37 | ERROR | app.db.client | Error creating record in payments (admin): {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 11:00:38 | ERROR | ecommerce | Error: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'} | Context: Creating checkout session for order 33fa70c0-befa-4532-9474-84e92615fa22
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    await db.create_record_admin("payments", payment_record)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 102, in create_record_admin
    response = self.admin_client.table(table).insert(serializable_data).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 11:08:38 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 11:15:26 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:15:26 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:15:31 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:15:31 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:15:40 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 11:15:40 | DEBUG | asyncio | Using proactor: IocpProactor
2025-07-13 11:15:40 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:15:40 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:15:49 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 11:15:50 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020410D01010>
2025-07-13 11:15:50 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020410CA6570> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 11:15:50 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020410CAFB10>
2025-07-13 11:15:50 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 11:15:50 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:15:50 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 11:15:50 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:15:50 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 11:15:51 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 08:16:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e756c429d8b3d6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/payments?select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'11'), (b'Set-Cookie', b'__cf_bm=GiyQz90TkRRPqGfhHpCWqFi0Muui2cZI9HUoKVXQOdY-1752394594-1.0.1.1-UhuBeivZVbNzt0BJPVODpHL7ztG2jielv9dEURa2SXnYqts4D61Gz4NtObTd7KI1b7a4dpSAa2lpuuMRR9Y4Gc_nQTes2AqytdfOYoTkhec; path=/; expires=Sun, 13-Jul-25 08:46:34 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:15:51 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments?select=%2A "HTTP/1.1 200 OK"
2025-07-13 11:15:51 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 11:15:51 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:15:51 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:15:51 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:32:25 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:32:25 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:32:36 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:32:36 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:32:41 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 11:32:41 | DEBUG | asyncio | Using proactor: IocpProactor
2025-07-13 11:32:41 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 11:32:41 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:32:41 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:33:09 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 11:33:10 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002831C4C1010>
2025-07-13 11:33:10 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000002831C46D010> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 11:33:12 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002831C4679D0>
2025-07-13 11:33:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 11:33:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 11:33:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 11:33:14 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 11:33:15 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 11:33:15 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 08:33:59 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e7703a8c293575-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Set-Cookie', b'__cf_bm=_IcRlgN7W9iE64Mu172p.pJk9h_rAYG1SLoxrr._rhE-1752395639-1.0.1.1-vouGkBteq1oH0sndF3B0_TQabQH9MK05IFfeQqEH0HOtnwf7v9Iv_xk5hGN4xwoDFspqOgxcrCkK2djo8xyHHLU_RltQGjWIBSt_cbJbcYU; path=/; expires=Sun, 13-Jul-25 09:03:59 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 11:33:16 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 400 Bad Request"
2025-07-13 11:33:16 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 11:33:17 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 11:33:17 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 11:33:18 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 11:33:18 | ERROR | app.db.client | Error creating record in payments (admin): {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'stripe_session_id' column of 'payments' in the schema cache"}
2025-07-13 11:41:02 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:41:02 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:41:06 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:41:06 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:41:12 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 11:44:40 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:44:40 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:44:42 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 11:44:42 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 11:44:45 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 13:24:28 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 13:24:29 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 13:24:38 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 13:24:39 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 13:24:42 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 13:25:23 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 16:44:23 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:44:23 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:44:27 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:44:27 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:44:30 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 16:44:46 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 16:45:01 | INFO | ecommerce.auth | Login attempt for starkalyboy@gmail.com
2025-07-13 16:45:01 | INFO | ecommerce | Attempting Supabase login for starkalyboy@gmail.com
2025-07-13 16:45:01 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 16:45:02 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002614D9096A0>
2025-07-13 16:45:02 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000002614A9B1F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 16:45:02 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002614D8A3C50>
2025-07-13 16:45:02 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 16:45:02 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:45:02 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 16:45:02 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:45:02 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 16:45:04 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:45:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e93902f8d8738c-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'174'), (b'Set-Cookie', b'__cf_bm=lW.dk1f29PTCbrbK3u8sxRdagEykuX_PlL4hdDahqII-1752414347-1.0.1.1-sQv8jsxs3kynkueRCb0GHkaNjZxGakq7gSUtmqFcu4KMBq2wG.2otkr7zlIA3yRc8U7XQreWM9Pxv1c28iG9G9CGmgwdQi_aUHN7JMBzCGM; path=/; expires=Sun, 13-Jul-25 14:15:47 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:45:04 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 16:45:04 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 16:45:04 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:45:04 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:45:04 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:45:04 | INFO | ecommerce | Supabase login response for starkalyboy@gmail.com: user_id=8716c5ff-5642-4fed-aa1d-33498e3cfe4d
2025-07-13 16:45:04 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:45:04 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:45:07 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:45:07 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002614DB796D0>
2025-07-13 16:45:07 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000002614D89ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:45:07 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002614DB7C2B0>
2025-07-13 16:45:07 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:45:07 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:45:07 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:45:08 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:45:08 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:45:09 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:45:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e93922ae708468-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'25'), (b'Set-Cookie', b'__cf_bm=CpQILIZgrBJewiz4zV2.83Ah5TTVkm0HzlukiIbKh8s-1752414352-1.0.1.1-A1EH3tZ.om9k6ZEO4pWdazbdzZTyReVMsFK8aGmn7XqxjAym3E6WOwDfXvBfD.dR3f1.GJFh39btCr7wm1N7UVTkz8thWXbozb_o2RBUbio; path=/; expires=Sun, 13-Jul-25 14:15:52 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:45:09 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 16:45:09 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:45:09 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:45:09 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:45:09 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:45:09 | INFO | ecommerce.auth | Auth LOGIN: starkalyboy@gmail.com | Status: SUCCESS
2025-07-13 16:48:39 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:48:39 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:48:42 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:48:42 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:48:45 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 16:49:01 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 16:49:03 | INFO | ecommerce.auth | Login attempt for starkalyboy@gmail.com
2025-07-13 16:49:04 | INFO | ecommerce | Attempting Supabase login for starkalyboy@gmail.com
2025-07-13 16:49:04 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 16:49:04 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254672596A0>
2025-07-13 16:49:05 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025464311F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 16:49:05 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254671F3C50>
2025-07-13 16:49:05 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 16:49:05 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:05 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 16:49:05 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:49:05 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 16:49:06 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:49:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e93eeddfeb517e-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'108'), (b'Set-Cookie', b'__cf_bm=9BCNAIlgbTdq3bq9AQHj0WNSv5_HOT_cVNJxW0TYt54-1752414590-1.0.1.1-bq5VF_9yQTdWtTw0fEtp3e6fZvsUTX5yzbFa680rEcE.G4M_.qnZjTDhsvOWoz4joPE_wlecSHyz2qMCnXbmdH.ZuQZZLwJJQ6fMtu9lAE4; path=/; expires=Sun, 13-Jul-25 14:19:50 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:49:06 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 16:49:07 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 16:49:07 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:49:07 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:49:07 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:49:07 | INFO | ecommerce | Supabase login response for starkalyboy@gmail.com: user_id=8716c5ff-5642-4fed-aa1d-33498e3cfe4d
2025-07-13 16:49:08 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:49:08 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:49:10 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:49:10 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675996D0>
2025-07-13 16:49:10 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:49:10 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546759C180>
2025-07-13 16:49:10 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:49:10 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:10 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:49:10 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:49:10 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:49:11 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:49:55 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e93f107acac6ca-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Set-Cookie', b'__cf_bm=8Kh0ri8vvagi0t5ZTawIeHgY0huIP09Bmqc5mGqeBaA-1752414595-1.0.1.1-IWqfz8Ng9chOueDR4UDNPkNxabVx6W0OQVSMFqETV66d5HKb7SqoCfqHDLl4jAMII.Hfm.YdXFtD5ch4ikINkOaMPxgUhh4g352PPT5rg0g; path=/; expires=Sun, 13-Jul-25 14:19:55 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:49:11 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 16:49:11 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:49:11 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:49:11 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:49:11 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:49:11 | INFO | ecommerce.auth | Auth LOGIN: starkalyboy@gmail.com | Status: SUCCESS
2025-07-13 16:49:42 | INFO | ecommerce | API Request: POST /api/v1/orders/33fa70c0-befa-4532-9474-84e92615fa22/payment | User: starkalyboy@gmail.com
2025-07-13 16:49:43 | DEBUG | httpcore.connection | close.started
2025-07-13 16:49:43 | DEBUG | httpcore.connection | close.complete
2025-07-13 16:49:43 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:49:43 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546759CD60>
2025-07-13 16:49:43 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:49:44 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675A8290>
2025-07-13 16:49:44 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:49:44 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:44 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:49:44 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:49:44 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:50:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e93fe2ef224eb4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'17'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:49:45 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:49:45 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:46 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:49:46 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:49:46 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:49:46 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:50:30 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e93febd9a24eb4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'9'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:49:47 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:49:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:49:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:50:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e93ff7aef24eb4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:49:48 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 16:49:48 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:49:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:49:48 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:49:48 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:49:50 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x00000254671E70B0> cert=None trust_env=True http2=False
2025-07-13 16:49:50 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 16:49:50 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2333fa70c0-befa-4532-9474-84e92615fa22&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250712-4C7C3BB2&line_items[0][price_data][unit_amount]=707988&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22&customer_email=starkalyboy%40gmail.com&metadata[order_id]=33fa70c0-befa-4532-9474-84e92615fa22&metadata[customer_email]=starkalyboy%40gmail.com
2025-07-13 16:49:50 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 16:49:54 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3054
2025-07-13 16:49:54 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 16:49:54 | DEBUG | stripe | body='{\n  "id": "cs_test_a1frURqwW59KEcaswLh9H2exoG4wX6ucWxSMXaq7lEfkAJuCqNXfplO32H",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 707988,\n  "amount_total": 707988,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=33fa70c0-befa-4532-9474-84e92615fa22",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752414638,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "starkalyboy@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "starkalyboy@gmail.com",\n  "discounts": [],\n  "expires_at": 1752501038,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "starkalyboy@gmail.com",\n    "order_id": "33fa70c0-befa-4532-9474-84e92615fa22"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=33fa70c0-befa-4532-9474-84e92615fa22&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1frURqwW59KEcaswLh9H2exoG4wX6ucWxSMXaq7lEfkAJuCqNXfplO32H#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 16:49:55 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_g4ha8aTmzw5AEC message='Dashboard link for request'
2025-07-13 16:49:55 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 16:49:55 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 16:49:55 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 16:49:58 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:49:59 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675C46B0>
2025-07-13 16:49:59 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E7920> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:49:59 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675C48D0>
2025-07-13 16:49:59 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 16:49:59 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:49:59 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 16:49:59 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 13:50:44 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e940455acd4eca-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'8'), (b'Set-Cookie', b'__cf_bm=aduKwRWjB4MT6UpXWXnx9Y74GkptLwc.WwM5hN0_bZU-1752414644-1.0.1.1-daYWdl4QnWmSm0xphCRqDogqhlL3xSJlE0YhG4vWkcVNGFOx0GkdQI.5SfMEjzoNc3iQRMNasiweZ2PKY.g88GCBfUceLr3uUYz3p5uPrQM; path=/; expires=Sun, 13-Jul-25 14:20:44 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:50:00 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 403 Forbidden"
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:50:00 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:50:00 | ERROR | app.db.client | Error creating record in payments (admin): {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 16:50:00 | ERROR | ecommerce | Error: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'} | Context: Creating checkout session for order 33fa70c0-befa-4532-9474-84e92615fa22
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 85, in create_checkout_session
    await db.create_record_admin("payments", payment_record)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 102, in create_record_admin
    response = self.admin_client.table(table).insert(serializable_data).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 16:53:51 | INFO | ecommerce | API Request: GET /api/v1/products/
2025-07-13 16:53:52 | DEBUG | httpcore.connection | close.started
2025-07-13 16:53:54 | DEBUG | httpcore.connection | close.complete
2025-07-13 16:53:55 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:53:57 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546717FB50>
2025-07-13 16:53:57 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:53:58 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546717EF50>
2025-07-13 16:53:58 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:53:58 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:53:59 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:54:06 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:54:07 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:54:08 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:54:50 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e94618e9f37412-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&limit=20&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:54:09 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True&limit=20 "HTTP/1.1 200 OK"
2025-07-13 16:54:10 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:54:10 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:54:11 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:54:11 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:54:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:54:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:54:16 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:54:16 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:54:17 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:54:18 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:55:00 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e9467f29e57412-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:54:18 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True "HTTP/1.1 200 OK"
2025-07-13 16:54:20 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:54:20 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:54:20 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:54:21 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:55:07 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: starkalyboy@gmail.com
2025-07-13 16:55:08 | DEBUG | httpcore.connection | close.started
2025-07-13 16:55:09 | DEBUG | httpcore.connection | close.complete
2025-07-13 16:55:10 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:55:12 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025467593110>
2025-07-13 16:55:15 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:55:15 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025467593200>
2025-07-13 16:55:16 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:55:16 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:55:17 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:55:18 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:55:18 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:55:19 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:56:02 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e947fe7f034eb5-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.f78fd44a-754d-478a-85e6-8dd72332f5b1&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:55:19 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.f78fd44a-754d-478a-85e6-8dd72332f5b1 "HTTP/1.1 200 OK"
2025-07-13 16:55:20 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:55:21 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:55:21 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:55:23 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:55:45 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: starkalyboy@gmail.com
2025-07-13 16:55:47 | DEBUG | httpcore.connection | close.started
2025-07-13 16:55:48 | DEBUG | httpcore.connection | close.complete
2025-07-13 16:55:49 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:55:51 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675F7930>
2025-07-13 16:55:52 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:55:52 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675F7A10>
2025-07-13 16:55:52 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:55:52 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:55:53 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:55:53 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:55:53 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:55:54 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:56:37 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e948e02d464ec2-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.f78fd44a-754d-478a-85e6-8dd72332f5b1&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:55:54 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.f78fd44a-754d-478a-85e6-8dd72332f5b1 "HTTP/1.1 200 OK"
2025-07-13 16:55:55 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:55:57 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:55:58 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:55:58 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:56:21 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: starkalyboy@gmail.com
2025-07-13 16:56:21 | DEBUG | httpcore.connection | close.started
2025-07-13 16:56:23 | DEBUG | httpcore.connection | close.complete
2025-07-13 16:56:23 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 16:56:24 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675E8C80>
2025-07-13 16:56:25 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 16:56:25 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254670A5910>
2025-07-13 16:56:25 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:56:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:56:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:56:26 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:56:26 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:56:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:57:10 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e949b14c84bc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:56:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&limit=20 "HTTP/1.1 200 OK"
2025-07-13 16:56:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:56:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:56:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:56:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:56:29 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:56:30 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:56:31 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:56:33 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:56:34 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:56:35 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:57:17 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e949cd6c32bc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:56:36 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 16:56:38 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:56:39 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:56:41 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:56:42 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:56:44 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:56:49 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:56:53 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:56:56 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:56:59 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:57:01 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:57:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94a408db5bc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:57:04 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.bf55026d-f51b-475c-bdf1-5a921f64032c "HTTP/1.1 200 OK"
2025-07-13 16:57:07 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:57:09 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:57:12 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:57:16 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:57:20 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:57:21 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:57:23 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:57:24 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:57:25 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:57:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:58:08 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94b0c5b0dbc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:57:29 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 16:57:30 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:57:32 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:57:34 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:57:36 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:57:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:57:39 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:57:40 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:57:41 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:57:43 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:57:45 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:58:28 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94b801a86bc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:57:46 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8088a10-d409-4043-b55a-5895fc1db471 "HTTP/1.1 200 OK"
2025-07-13 16:57:46 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:57:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:57:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:57:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 16:57:50 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 16:57:50 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 16:57:51 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 16:57:52 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 16:57:53 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 16:57:54 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 13:58:36 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94bc42fb5bc14-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 16:57:54 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.d8bf79b5-e7e9-4078-9f6c-6c6891f0259e "HTTP/1.1 200 OK"
2025-07-13 16:57:55 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 16:57:57 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 16:58:00 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 16:58:02 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:00:19 | INFO | ecommerce | API Request: POST /api/v1/orders/33fa70c0-befa-4532-9474-84e92615fa22/payment | User: starkalyboy@gmail.com
2025-07-13 17:00:19 | DEBUG | httpcore.connection | close.started
2025-07-13 17:00:20 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:00:21 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:00:22 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254670A6F90>
2025-07-13 17:00:22 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E6BA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:00:22 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025466C6B5F0>
2025-07-13 17:00:22 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:00:22 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:00:22 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:00:22 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:00:22 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:01:07 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94f785c6093ce-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:00:23 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:00:23 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:01:07 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94f7dbb5b93ce-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:00:24 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.33fa70c0-befa-4532-9474-84e92615fa22 "HTTP/1.1 200 OK"
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:00:24 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:01:08 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e94f839ac893ce-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:00:24 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.8716c5ff-5642-4fed-aa1d-33498e3cfe4d "HTTP/1.1 200 OK"
2025-07-13 17:00:25 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:00:25 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:00:25 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:00:25 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:00:25 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 17:00:25 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2333fa70c0-befa-4532-9474-84e92615fa22&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250712-4C7C3BB2&line_items[0][price_data][unit_amount]=707988&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D33fa70c0-befa-4532-9474-84e92615fa22&customer_email=starkalyboy%40gmail.com&metadata[order_id]=33fa70c0-befa-4532-9474-84e92615fa22&metadata[customer_email]=starkalyboy%40gmail.com
2025-07-13 17:00:25 | DEBUG | urllib3.connectionpool | Resetting dropped connection: api.stripe.com
2025-07-13 17:00:29 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3054
2025-07-13 17:00:29 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 17:00:29 | DEBUG | stripe | body='{\n  "id": "cs_test_a1bAv6PFdIhSe9grEq9CH3Q1P4O7vHSD1P1AeyTZfbxcxhyask7rvW0MKk",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 707988,\n  "amount_total": 707988,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=33fa70c0-befa-4532-9474-84e92615fa22",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752415272,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "starkalyboy@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "starkalyboy@gmail.com",\n  "discounts": [],\n  "expires_at": 1752501672,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "starkalyboy@gmail.com",\n    "order_id": "33fa70c0-befa-4532-9474-84e92615fa22"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=33fa70c0-befa-4532-9474-84e92615fa22&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1bAv6PFdIhSe9grEq9CH3Q1P4O7vHSD1P1AeyTZfbxcxhyask7rvW0MKk#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 17:00:29 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_tQ31CAKdePm5Mt message='Dashboard link for request'
2025-07-13 17:00:29 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 17:00:29 | DEBUG | httpcore.connection | close.started
2025-07-13 17:00:29 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:00:29 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:00:30 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025467638050>
2025-07-13 17:00:30 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E7920> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:00:30 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675E6C10>
2025-07-13 17:00:30 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:00:30 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:00:30 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:00:30 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:00:30 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:00:31 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 14:01:15 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e94fab6e99b910-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'4'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:00:31 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 403 Forbidden"
2025-07-13 17:00:31 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:00:31 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:00:31 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:00:31 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:00:31 | ERROR | app.db.client | Error creating record in payments (admin): {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 17:00:32 | ERROR | ecommerce | Error: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'} | Context: Creating checkout session for order 33fa70c0-befa-4532-9474-84e92615fa22
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 85, in create_checkout_session
    await db.create_record_admin("payments", payment_record)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 102, in create_record_admin
    response = self.admin_client.table(table).insert(serializable_data).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "payments"'}
2025-07-13 17:01:19 | INFO | ecommerce.auth | Login attempt for itslugenge96@gmail.com
2025-07-13 17:01:19 | INFO | ecommerce | Attempting Supabase login for itslugenge96@gmail.com
2025-07-13 17:01:19 | DEBUG | httpcore.connection | close.started
2025-07-13 17:01:20 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:01:20 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 17:01:20 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675E7750>
2025-07-13 17:01:20 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025464311F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 17:01:21 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254675BDF40>
2025-07-13 17:01:21 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:01:21 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:01:21 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:01:21 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:01:21 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:01:23 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:02:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e950efbf6393cc-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'114'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:01:23 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 17:01:23 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:01:23 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:01:23 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:01:23 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:01:24 | INFO | ecommerce | Supabase login response for itslugenge96@gmail.com: user_id=2dae6068-0b4a-4519-bfa7-1933207822f8
2025-07-13 17:01:24 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:01:24 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:01:27 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:01:27 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254676434D0>
2025-07-13 17:01:27 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254675BE180> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:01:27 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025467245850>
2025-07-13 17:01:27 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:01:27 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:01:27 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:01:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:01:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:01:28 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:02:11 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9510d3f47f7f6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Set-Cookie', b'__cf_bm=VMdHX2cpyXowe1yDyYLiaDQlGbTVCsVdlF5PEdfdmGs-1752415331-1.0.1.1-FCEttsVmN1Gd3JyjPTStJLd5pfL__8c_lg1QrSWHi0.lgoHbfB5stXysu48bd2IUALKqGqubenH0WNHKP0APtwehZd4lMQPWcmoF52KAHs4; path=/; expires=Sun, 13-Jul-25 14:32:11 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:01:28 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:01:28 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:01:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:01:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:01:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:01:28 | INFO | ecommerce.auth | Auth LOGIN: itslugenge96@gmail.com | Status: SUCCESS
2025-07-13 17:01:57 | INFO | ecommerce | API Request: GET /api/v1/products/
2025-07-13 17:01:57 | DEBUG | httpcore.connection | close.started
2025-07-13 17:01:57 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:01:57 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:01:57 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546761DE80>
2025-07-13 17:01:58 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254675BE180> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:01:58 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546761E0B0>
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:02:42 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e951cd4c19f01f-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&limit=20&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:01:58 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True&limit=20 "HTTP/1.1 200 OK"
2025-07-13 17:01:58 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:01:59 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:02:00 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:02:43 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e951d3afaaf01f-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:02:00 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True "HTTP/1.1 200 OK"
2025-07-13 17:02:00 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:02:00 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:02:00 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:02:00 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:02:39 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 17:02:39 | DEBUG | httpcore.connection | close.started
2025-07-13 17:02:39 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:02:39 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:02:39 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546760E450>
2025-07-13 17:02:39 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254675BE180> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:02:39 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002546760E6F0>
2025-07-13 17:02:40 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:02:40 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:02:40 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:02:40 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:02:40 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:02:41 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:03:25 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e952d6ca5a4ebd-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:02:41 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 17:02:41 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:02:41 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:02:41 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:02:41 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:04:05 | INFO | ecommerce | API Request: POST /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 17:04:05 | DEBUG | httpcore.connection | close.started
2025-07-13 17:04:05 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:04:05 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:04:05 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000254643614F0>
2025-07-13 17:04:05 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254675BE180> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:04:06 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025464361180>
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:04:50 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e954ee2ce23983-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:04:06 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:04:06 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:04:07 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:04:07 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:04:07 | INFO | app.db.client | Creating record in orders with admin client
2025-07-13 17:04:07 | DEBUG | httpcore.connection | close.started
2025-07-13 17:04:07 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:04:07 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:04:07 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025464361AE0>
2025-07-13 17:04:07 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000254671E7920> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:04:08 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025464462FD0>
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 14:04:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e954f8da93517e-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:04:08 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders "HTTP/1.1 403 Forbidden"
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:04:08 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:04:08 | ERROR | app.db.client | Error creating record in orders (admin): {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "orders"'}
2025-07-13 17:04:08 | ERROR | ecommerce | Error: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "orders"'} | Context: Creating order for user 2dae6068-0b4a-4519-bfa7-1933207822f8
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 117, in create_order
    created_order = await db.create_record_admin("orders", order_dict)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 102, in create_record_admin
    response = self.admin_client.table(table).insert(serializable_data).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "orders"'}
2025-07-13 17:26:24 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 17:45:13 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:45:13 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:45:18 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:45:18 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:45:22 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 17:45:39 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 17:45:46 | INFO | ecommerce.auth | Login attempt for itslugenge96@gmail.com
2025-07-13 17:45:46 | INFO | ecommerce | Attempting Supabase login for itslugenge96@gmail.com
2025-07-13 17:45:46 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 17:45:47 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B58D6A0>
2025-07-13 17:45:47 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C138641F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 17:45:48 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B523C50>
2025-07-13 17:45:48 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:45:48 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:45:48 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:45:48 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:45:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:45:49 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:46:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e99204cf3c73d6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'104'), (b'Set-Cookie', b'__cf_bm=zCzCJ2u2XIGhSso226WKPp_t3FEX53GN39NTWe_9lLI-1752417993-1.0.1.1-OwPuF_53QWYrEOpatDkUnjF3G7Hm.j5Jlm_60xLRpxEeg.NeSWKF.18P8OdRQNup3Yf0_T2Qlm0eoulKBDdtm9YWyVVdJvi1_SOaEqlSRvo; path=/; expires=Sun, 13-Jul-25 15:16:33 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:45:50 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 17:45:50 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:45:50 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:45:51 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:45:51 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:45:51 | INFO | ecommerce | Supabase login response for itslugenge96@gmail.com: user_id=2dae6068-0b4a-4519-bfa7-1933207822f8
2025-07-13 17:45:51 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:45:51 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:45:56 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:45:57 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7E96D0>
2025-07-13 17:45:57 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:45:57 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7EC180>
2025-07-13 17:45:57 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:45:57 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:45:57 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:45:57 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:45:57 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:45:58 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:46:42 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9923dcbb51380-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Set-Cookie', b'__cf_bm=FDDOxrZdJBisa6BbkqouvEa19p_d70U_qAEF3o5kvUQ-1752418002-1.0.1.1-g8cYgsjGFEMc2KxunhXa5BI6P_mBVPRg9mm.llI3wCQ6sIoErRpluyf87ajdRoOI3kNwSnxwbUj7GU.Mc1R7OVaDZjENP51_uCSjymr9Pv4; path=/; expires=Sun, 13-Jul-25 15:16:42 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:45:58 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:45:58 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:45:58 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:45:58 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:45:58 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:45:58 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:45:58 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:46:02 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:46:02 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7ECB00>
2025-07-13 17:46:02 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:46:02 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B52FBF0>
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:46:03 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 14:46:47 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9925fb8d173b0-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Set-Cookie', b'__cf_bm=KiRz4xwfmIywbgGKgWXnwf9JqotqU8vXrdvvegKU.L0-1752418007-1.0.1.1-Onv01HcbIb_ImEU_.iJ0OVobyMHQXZmZk3LoirxX1do4SkMoEWobst8Xii62_HxQ9fxTZYDWHyZUe9ALbuHyARtu4jszC7AGnHxPt22E9Dk; path=/; expires=Sun, 13-Jul-25 15:16:47 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:04 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles "HTTP/1.1 403 Forbidden"
2025-07-13 17:46:04 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:46:04 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:04 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:04 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:04 | WARNING | ecommerce | Could not create profile for itslugenge96@gmail.com: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "profiles"'}
2025-07-13 17:46:04 | INFO | ecommerce.auth | Auth LOGIN: itslugenge96@gmail.com | Status: SUCCESS
2025-07-13 17:46:36 | INFO | ecommerce | API Request: POST /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 17:46:36 | DEBUG | httpcore.connection | close.started
2025-07-13 17:46:36 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:46:36 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:46:36 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B818490>
2025-07-13 17:46:36 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:46:37 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B8185A0>
2025-07-13 17:46:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:46:38 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:38 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:46:38 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:38 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:46:39 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:47:22 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9933aa884fff4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:39 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 17:46:39 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:46:39 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:39 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:39 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:39 | INFO | app.db.client | Creating record in orders with admin client
2025-07-13 17:46:39 | DEBUG | httpcore.connection | close.started
2025-07-13 17:46:39 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:46:39 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:46:39 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B80C150>
2025-07-13 17:46:39 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:46:40 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B80C250>
2025-07-13 17:46:40 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:46:40 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:40 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:46:40 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:40 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:47:24 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e993482e304ebe-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'12'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:41 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders "HTTP/1.1 201 Created"
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:41 | INFO | app.db.client | Created record in orders (admin): 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 17:46:41 | INFO | app.db.client | Creating record in order_items with admin client
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:46:41 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:42 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:46:42 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:42 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:46:42 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:47:26 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9935289a24ebe-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'7'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:42 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items "HTTP/1.1 201 Created"
2025-07-13 17:46:42 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:43 | INFO | app.db.client | Created record in order_items (admin): 713a2400-83ea-40eb-a87f-4c6bc05457ad
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:43 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:46:44 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:47:27 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9935a8953fff4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:44 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'PATCH']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'PATCH']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'PATCH']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:47:29 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e993676b15fff4-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:45 | INFO | httpx | HTTP Request: PATCH https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'PATCH']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:45 | INFO | ecommerce.order | Order CREATED: 34b97423-feb5-4afa-88fc-b9224de51d9c | User: itslugenge96@gmail.com
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:45 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:46:46 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:46 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:46:46 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:47:30 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9936acd8b4ebe-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:47 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:47 | INFO | app.db.client | Retrieved record from orders (admin): 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:46:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:46:48 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:46:48 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:46:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:46:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:47:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99375698f4ebe-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:46:48 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:46:49 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:46:49 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:46:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:46:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:46:49 | INFO | app.db.client | Retrieved 1 records from order_items (admin)
2025-07-13 17:47:26 | INFO | ecommerce | API Request: GET /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c | User: itslugenge96@gmail.com
2025-07-13 17:47:26 | DEBUG | httpcore.connection | close.started
2025-07-13 17:47:26 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:47:26 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:47:26 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7E76B0>
2025-07-13 17:47:26 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:47:26 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7E77A0>
2025-07-13 17:47:26 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:47:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:47:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:47:26 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:47:26 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:48:10 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9946abcde7388-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:47:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:47:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:48:11 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9946f0c077388-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:47:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:47:28 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:47:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:47:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:47:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:48:09 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 17:48:09 | DEBUG | httpcore.connection | close.started
2025-07-13 17:48:10 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:48:10 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:48:10 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B845010>
2025-07-13 17:48:10 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:48:10 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B8450F0>
2025-07-13 17:48:10 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:48:10 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:48:10 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:48:10 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:48:10 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:48:55 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9957f1c993575-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:48:12 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:48:56 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99586dee63575-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:48:12 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:48:12 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:48:13 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:48:57 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9958c9b903575-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:48:14 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:48:14 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:48:14 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:48:14 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:48:14 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:48:20 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x000001C13B51AF90> cert=None trust_env=True http2=False
2025-07-13 17:48:22 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 17:48:22 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 17:48:22 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 17:48:25 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 17:48:25 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 17:48:26 | DEBUG | stripe | body='{\n  "id": "cs_test_a1wuJcMjW3sWUnpZhNp7WSpZ9xV0iTYg0GvqsumVD3Om38lLb50qbv4xT0",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752418149,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752504549,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1wuJcMjW3sWUnpZhNp7WSpZ9xV0iTYg0GvqsumVD3Om38lLb50qbv4xT0#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 17:48:26 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_36R184nR1NvdQI message='Dashboard link for request'
2025-07-13 17:48:26 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 17:48:26 | DEBUG | httpcore.connection | close.started
2025-07-13 17:48:26 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:48:26 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:48:26 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B835160>
2025-07-13 17:48:26 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:48:27 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B3D5250>
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:49:11 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e995e44ce24ed6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'8'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:48:27 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:48:27 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:48:27 | INFO | app.db.client | Created record in payments (admin): a5e74537-7ae4-4e21-8a5a-f8bc6f3022a4
2025-07-13 17:48:27 | ERROR | ecommerce | Error: name 'logger' is not defined | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully: {payment_record['id']}")
    ^^^^^^
NameError: name 'logger' is not defined
2025-07-13 17:51:14 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:51:14 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:51:16 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:51:16 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:51:19 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 17:51:34 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 17:52:54 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 17:52:54 | DEBUG | httpcore.connection | close.started
2025-07-13 17:52:54 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:52:54 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:52:54 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B3D6450>
2025-07-13 17:52:54 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:52:55 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13AF99C80>
2025-07-13 17:52:55 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:52:55 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:52:55 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:52:55 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:52:55 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:53:39 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99c6e7824a44f-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:52:56 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:53:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99c76388ca44f-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:52:56 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:52:56 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:52:57 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:53:40 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99c796b53a44f-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:52:57 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:52:57 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:52:57 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:52:57 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:52:57 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:52:57 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 17:52:57 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 17:52:57 | DEBUG | urllib3.connectionpool | Resetting dropped connection: api.stripe.com
2025-07-13 17:53:01 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 17:53:01 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 17:53:01 | DEBUG | stripe | body='{\n  "id": "cs_test_a1CxKvloyV20mSYvYHV4Z1J51cJ8Qt09PyKJceOx1oCIsHxiTCBk8VGzhr",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752418425,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752504825,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1CxKvloyV20mSYvYHV4Z1J51cJ8Qt09PyKJceOx1oCIsHxiTCBk8VGzhr#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 17:53:01 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_IxB7LnWaVfko41 message='Dashboard link for request'
2025-07-13 17:53:01 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 17:53:01 | DEBUG | httpcore.connection | close.started
2025-07-13 17:53:01 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:53:01 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:53:02 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13AF9B800>
2025-07-13 17:53:02 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:53:02 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B839EF0>
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:53:46 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99c9b8e85740a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:53:02 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:53:02 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:53:02 | INFO | app.db.client | Created record in payments (admin): fbd65967-3d77-4eda-b367-eb8bd8776af5
2025-07-13 17:53:02 | ERROR | ecommerce | Error: name 'logger' is not defined | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully: {payment_record['id']}")
    ^^^^^^
NameError: name 'logger' is not defined
2025-07-13 17:53:23 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 17:53:23 | DEBUG | httpcore.connection | close.started
2025-07-13 17:53:23 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:53:23 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:53:23 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B83AAD0>
2025-07-13 17:53:23 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:53:23 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B814CB0>
2025-07-13 17:53:23 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:53:23 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:53:23 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:53:23 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:53:23 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:54:07 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99d210ad2738c-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:53:24 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:54:08 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99d23be48738c-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:53:24 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:54:08 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99d264943738c-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:53:24 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:53:24 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:53:24 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 17:53:24 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 17:53:25 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 17:53:25 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 17:53:25 | DEBUG | stripe | body='{\n  "id": "cs_test_a1nuTUuOWupr1feCn3VGkqEPZCTWERHnENuwNOkyCpaf9w5VtxlTpn218m",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752418449,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752504849,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1nuTUuOWupr1feCn3VGkqEPZCTWERHnENuwNOkyCpaf9w5VtxlTpn218m#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 17:53:25 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_BX0XYQXYdStRUi message='Dashboard link for request'
2025-07-13 17:53:25 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 17:53:25 | DEBUG | httpcore.connection | close.started
2025-07-13 17:53:25 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:53:25 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:53:25 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B886350>
2025-07-13 17:53:25 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:53:26 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B8864D0>
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:54:10 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99d306eb5f7f6-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'5'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:53:26 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:53:26 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:53:26 | INFO | app.db.client | Created record in payments (admin): 32f15b97-700e-43fa-85e5-004360c4c296
2025-07-13 17:53:26 | ERROR | ecommerce | Error: name 'logger' is not defined | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully: {payment_record['id']}")
    ^^^^^^
NameError: name 'logger' is not defined
2025-07-13 17:53:41 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 17:54:00 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:54:00 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:54:02 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:54:02 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:54:04 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 17:54:12 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 17:54:27 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 17:54:27 | DEBUG | httpcore.connection | close.started
2025-07-13 17:54:27 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:54:27 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:54:27 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B8231C0>
2025-07-13 17:54:27 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:54:27 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B823700>
2025-07-13 17:54:27 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:54:27 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:54:27 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:54:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:54:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:55:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99eb2698193cf-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:54:28 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:54:28 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:55:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e99eb50c8d93cf-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:54:29 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:55:13 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99eba2a1593cf-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:54:29 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:54:29 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:54:29 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 17:54:29 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 17:54:30 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 17:54:30 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 17:54:30 | DEBUG | stripe | body='{\n  "id": "cs_test_a1A3MDMvu4Kp6EKwFJrqEBzdQd3e2ctyDT4WvMkX3KmPygwOh7qAA6aD7F",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752418513,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752504913,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1A3MDMvu4Kp6EKwFJrqEBzdQd3e2ctyDT4WvMkX3KmPygwOh7qAA6aD7F#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 17:54:30 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_KWLgBDYnMdytNw message='Dashboard link for request'
2025-07-13 17:54:30 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 17:54:30 | DEBUG | httpcore.connection | close.started
2025-07-13 17:54:30 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:54:30 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:54:30 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B89C230>
2025-07-13 17:54:30 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:54:30 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B89C290>
2025-07-13 17:54:30 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:54:30 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:54:30 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:54:30 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:54:30 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:54:31 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 14:55:14 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e99ec3af8373e8-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'5'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:54:31 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 17:54:31 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:54:31 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:54:31 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:54:31 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:54:31 | INFO | app.db.client | Created record in payments (admin): 5d8707cb-41c7-4f1e-b7a8-2e7e871d3a2a
2025-07-13 17:54:31 | ERROR | ecommerce | Error: name 'logger' is not defined | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully: {payment_record['id']}")
    ^^^^^^
NameError: name 'logger' is not defined
2025-07-13 17:55:28 | INFO | ecommerce.auth | Login attempt for itslugenge96@gmail.com
2025-07-13 17:55:28 | INFO | ecommerce | Attempting Supabase login for itslugenge96@gmail.com
2025-07-13 17:55:28 | DEBUG | httpcore.connection | close.started
2025-07-13 17:55:28 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:55:28 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 17:55:28 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7CE580>
2025-07-13 17:55:28 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C138641F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 17:55:28 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B7CE530>
2025-07-13 17:55:28 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:55:28 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:55:28 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:55:28 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:55:28 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:55:29 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:56:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9a02ea9bb4ec2-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'111'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:55:29 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 17:55:29 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:55:29 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:55:29 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:55:29 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:55:29 | INFO | ecommerce | Supabase login response for itslugenge96@gmail.com: user_id=2dae6068-0b4a-4519-bfa7-1933207822f8
2025-07-13 17:55:29 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:55:29 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:55:53 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:55:53 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B82ADA0>
2025-07-13 17:55:53 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51ABA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:55:53 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B82ADF0>
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 17:55:53 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 14:56:37 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9a0c9dac4253d-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Set-Cookie', b'__cf_bm=ehUSWW45z3axenun_DMZqaFltPS7HokLm8SLMHHR0K4-1752418597-1.0.1.1-TdPrXzq1FRaIvSUdU3c05tRHYUBCSTy8ESrlF03nkljR8MidcxTttlr3xJOGLwvj3A3uvJRwGvH8gyucYglms2X2v8tGEXjm1nn5.l92iZ8; path=/; expires=Sun, 13-Jul-25 15:26:37 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:55:53 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:55:53 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:55:53 | DEBUG | httpcore.connection | close.started
2025-07-13 17:55:53 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:55:53 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 17:55:54 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C138693430>
2025-07-13 17:55:54 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C13B51AD50> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 17:55:54 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B82A710>
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 14:56:38 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9a0cdda619863-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:55:54 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles "HTTP/1.1 403 Forbidden"
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:55:54 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:55:54 | WARNING | ecommerce | Could not create profile for itslugenge96@gmail.com: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "profiles"'}
2025-07-13 17:55:54 | INFO | ecommerce.auth | Auth LOGIN: itslugenge96@gmail.com | Status: SUCCESS
2025-07-13 17:56:56 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:56:56 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:56:59 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:56:59 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:57:05 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 17:57:22 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 17:59:03 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:59:03 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:59:05 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 17:59:06 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 17:59:07 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 17:59:16 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 17:59:31 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 17:59:47 | INFO | ecommerce.auth | Login attempt for user@example.com
2025-07-13 17:59:47 | INFO | ecommerce | Attempting Supabase login for user@example.com
2025-07-13 17:59:47 | DEBUG | httpcore.connection | close.started
2025-07-13 17:59:47 | DEBUG | httpcore.connection | close.complete
2025-07-13 17:59:47 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 17:59:48 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B82B340>
2025-07-13 17:59:48 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C138641F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 17:59:48 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C13B82B390>
2025-07-13 17:59:48 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 17:59:48 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 17:59:48 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 17:59:48 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 17:59:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 17:59:49 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 15:00:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'81'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9a685882d7406-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'9'), (b'x-sb-error-code', b'invalid_credentials'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 17:59:49 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 400 Bad Request"
2025-07-13 17:59:49 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 17:59:49 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 17:59:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 17:59:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 17:59:49 | ERROR | ecommerce | Supabase login failed for user@example.com: Invalid login credentials
2025-07-13 17:59:49 | INFO | ecommerce.auth | Auth LOGIN: user@example.com | Status: FAILED
2025-07-13 18:00:34 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 18:00:34 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 18:00:37 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 18:00:37 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 18:00:38 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 18:00:50 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 18:01:43 | INFO | ecommerce.auth | Login attempt for itslugenge96@gmail.com
2025-07-13 18:01:43 | INFO | ecommerce | Attempting Supabase login for itslugenge96@gmail.com
2025-07-13 18:01:43 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 18:01:43 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614D96A0>
2025-07-13 18:01:43 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x000001975E581F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 18:01:43 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614E4F50>
2025-07-13 18:01:43 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 18:01:43 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:01:43 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 18:01:43 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:01:43 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 18:01:44 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:02:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9a9570fbc73fa-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'106'), (b'Set-Cookie', b'__cf_bm=0VYEpTYeF8l1iOBGLw.81SV1c1gqeNtd6AzXGhobo7s-1752418948-1.0.1.1-fIqRKMnODCo4UKt0cvG9uR3pfJfgRXV9IHNvo0NKXwwDZZJrB_kFrUjfm3JkYFdfA0zu6zsrwuzy_ox9N1r2Ql6pYdxnUfBHMYYCY.jG0jU; path=/; expires=Sun, 13-Jul-25 15:32:28 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:01:44 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 18:01:44 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 18:01:44 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:01:44 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:01:44 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:01:45 | INFO | ecommerce | Supabase login response for itslugenge96@gmail.com: user_id=2dae6068-0b4a-4519-bfa7-1933207822f8
2025-07-13 18:01:45 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 18:01:45 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 18:01:47 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:01:48 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614E6710>
2025-07-13 18:01:48 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:01:48 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614F0B00>
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:02:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9a973cb6b740d-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Set-Cookie', b'__cf_bm=1bK8QuuTTFt1MaZoBmFFQ6zcBy7g0eldrJyeuC.ndSU-1752418952-1.0.1.1-T_3eHsrhmkswxJq74BOaYqLVGISl9oeUn.sQ6e5hjwZCMLFjUC.yNzQyF7xPBTP1hM8jXbCTUZWExdIo1nkDQaiGQVdsr9uly0vcxqYVaIw; path=/; expires=Sun, 13-Jul-25 15:32:32 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:01:48 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:01:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:01:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:01:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:01:49 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 18:01:49 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 18:01:52 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:01:52 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614F1BA0>
2025-07-13 18:01:52 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5400> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:01:52 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614ED5B0>
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 15:02:36 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9a98d289cbd1a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Set-Cookie', b'__cf_bm=NF1haYpzkyy3KIxXlvAuMlMJPLEDd10xieUTbI.VUFI-1752418956-1.0.1.1-bh0SGuGXYpP0.OnM8BkSJhOAibxN6AGCMyCPVxumSaG7v0MfqADAuOYBJF7mdtpV.ikHru9wZR4zhd.5r_puLUr_83Fa4DnMcXDZQZ71.pQ; path=/; expires=Sun, 13-Jul-25 15:32:36 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:01:52 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles "HTTP/1.1 403 Forbidden"
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:01:52 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:01:53 | WARNING | ecommerce | Could not create profile for itslugenge96@gmail.com: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "profiles"'}
2025-07-13 18:01:53 | INFO | ecommerce.auth | Auth LOGIN: itslugenge96@gmail.com | Status: SUCCESS
2025-07-13 18:02:36 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 18:02:36 | DEBUG | httpcore.connection | close.started
2025-07-13 18:02:37 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:02:37 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:02:37 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761515040>
2025-07-13 18:02:37 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:02:37 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761514E20>
2025-07-13 18:02:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:02:37 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:02:37 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:02:37 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:02:37 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:03:21 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9aaa82c5273be-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:02:38 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&limit=20 "HTTP/1.1 200 OK"
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:02:38 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:03:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9aaaf2e6b73be-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:02:39 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:02:39 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:02:40 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:03:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9aab4ee7373be-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:02:40 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 18:02:40 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:02:40 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:02:40 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:02:40 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:03:18 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9/payment | User: itslugenge96@gmail.com
2025-07-13 18:03:18 | DEBUG | httpcore.connection | close.started
2025-07-13 18:03:18 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:03:18 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:03:18 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614E9A50>
2025-07-13 18:03:18 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:03:18 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197614E9B50>
2025-07-13 18:03:18 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:03:18 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:03:18 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:03:18 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:03:18 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:03:19 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 15:04:02 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9aba89ad44ecd-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'13'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:03:19 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9 "HTTP/1.1 400 Bad Request"
2025-07-13 18:03:19 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:03:19 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:03:19 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:03:19 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:03:19 | ERROR | app.db.client | Error getting record from orders: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "34b97423-feb5-4afa-88fc-b9224de51d9"'}
2025-07-13 18:03:19 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "34b97423-feb5-4afa-88fc-b9224de51d9"'} | Context: Getting order 34b97423-feb5-4afa-88fc-b9224de51d9
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 173, in get_order
    order_data = await db.get_record("orders", order_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "34b97423-feb5-4afa-88fc-b9224de51d9"'}
2025-07-13 18:03:46 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 18:03:46 | DEBUG | httpcore.connection | close.started
2025-07-13 18:03:46 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:03:46 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:03:46 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197618D4050>
2025-07-13 18:03:46 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:03:47 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197618D4140>
2025-07-13 18:03:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:03:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:03:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:03:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:03:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:04:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9ac6c0a933983-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:03:50 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&limit=20 "HTTP/1.1 200 OK"
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:03:50 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:03:51 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:03:51 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:03:51 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:03:51 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:04:35 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9ac745f6a3983-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:03:52 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:03:52 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:03:53 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:03:53 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:03:53 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:03:53 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:03:58 | DEBUG | httpcore.http11 | receive_response_headers.failed exception=ReadTimeout(TimeoutError('The read operation timed out'))
2025-07-13 18:03:58 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:03:58 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:03:58 | ERROR | app.db.client | Error getting records from order_items: The read operation timed out
2025-07-13 18:03:58 | ERROR | ecommerce | Error: The read operation timed out | Context: Listing orders for user 2dae6068-0b4a-4519-bfa7-1933207822f8
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 10, in map_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 28, in read
    return self._sock.recv(max_bytes)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1285, in recv
    return self.read(buflen)
           ~~~~~~~~~^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1140, in read
    return self._sslobj.read(len)
           ~~~~~~~~~~~~~~~~~^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 60, in map_httpcore_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 262, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 96, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\http11.py", line 121, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\http11.py", line 99, in handle_request
    ) = self._receive_response_headers(**kwargs)
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\http11.py", line 164, in _receive_response_headers
    event = self._receive_event(timeout=timeout)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\http11.py", line 200, in _receive_event
    data = self._network_stream.read(
        self.READ_NUM_BYTES, timeout=timeout
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 26, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 247, in list_user_orders
    order_items = await db.get_records("order_items", {"order_id": order_data["id"]})
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 150, in get_records
    response = query.execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 814, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 901, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 217, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout: The read operation timed out
2025-07-13 18:04:12 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 18:04:12 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:04:13 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197618B19B0>
2025-07-13 18:04:13 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:04:13 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197618B1D30>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:04:57 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9acfe7f2593cc-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:04:13 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&limit=20 "HTTP/1.1 200 OK"
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:04:13 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:04:58 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9ad01bb2293cc-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:04:14 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:04:14 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:04:15 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:04:59 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9ad0648bb93cc-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:04:15 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 18:04:15 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:04:15 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:04:15 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:04:15 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:04:42 | INFO | ecommerce | API Request: POST /api/v1/orders/ORD-20250713-C52095D4/payment | User: itslugenge96@gmail.com
2025-07-13 18:04:42 | DEBUG | httpcore.connection | close.started
2025-07-13 18:04:42 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:04:42 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:04:47 | DEBUG | httpcore.connection | connect_tcp.failed exception=ConnectTimeout(TimeoutError('timed out'))
2025-07-13 18:04:47 | ERROR | app.db.client | Error getting record from orders: timed out
2025-07-13 18:04:47 | ERROR | ecommerce | Error: timed out | Context: Getting order ORD-20250713-C52095D4
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 10, in map_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 100, in connect_tcp
    sock = socket.create_connection(
        address,
        timeout,
        source_address=source_address,
    )
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 864, in create_connection
    raise exceptions[0]
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 849, in create_connection
    sock.connect(sa)
    ~~~~~~~~~~~~^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 60, in map_httpcore_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 262, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 92, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 69, in handle_request
    stream = self._connect(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 117, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 99, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\order_service.py", line 173, in get_order
    order_data = await db.get_record("orders", order_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 814, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 901, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 217, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout: timed out
2025-07-13 18:05:22 | INFO | ecommerce | API Request: GET /api/v1/products/
2025-07-13 18:05:22 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:05:22 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197617CA750>
2025-07-13 18:05:22 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:05:22 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761325190>
2025-07-13 18:05:22 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:05:22 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:05:22 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:05:22 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:05:22 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:06:06 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e9aeb00895739e-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&limit=20&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:05:23 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True&limit=20 "HTTP/1.1 200 OK"
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:06:07 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-3/*'), (b'CF-Ray', b'95e9aeb43e35739e-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?is_active=eq.True&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:05:23 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&is_active=eq.True "HTTP/1.1 200 OK"
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:05:23 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:06:11 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 18:06:11 | DEBUG | httpcore.connection | close.started
2025-07-13 18:06:11 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:06:11 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:06:16 | DEBUG | httpcore.connection | connect_tcp.failed exception=ConnectTimeout(TimeoutError('timed out'))
2025-07-13 18:06:16 | ERROR | app.db.client | Error getting record from products: timed out
2025-07-13 18:06:16 | ERROR | ecommerce | Error: timed out | Context: Getting product f78fd44a-754d-478a-85e6-8dd72332f5b1
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 10, in map_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 100, in connect_tcp
    sock = socket.create_connection(
        address,
        timeout,
        source_address=source_address,
    )
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 864, in create_connection
    raise exceptions[0]
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 849, in create_connection
    sock.connect(sa)
    ~~~~~~~~~~~~^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 60, in map_httpcore_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 262, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 92, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 69, in handle_request
    stream = self._connect(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 117, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 99, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 814, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 901, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 217, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout: timed out
2025-07-13 18:06:55 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 18:06:55 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:07:10 | DEBUG | httpcore.connection | connect_tcp.failed exception=ConnectError(gaierror(11001, 'getaddrinfo failed'))
2025-07-13 18:07:10 | ERROR | app.db.client | Error getting record from products: [Errno 11001] getaddrinfo failed
2025-07-13 18:07:12 | ERROR | ecommerce | Error: [Errno 11001] getaddrinfo failed | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 10, in map_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 100, in connect_tcp
    sock = socket.create_connection(
        address,
        timeout,
        source_address=source_address,
    )
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 840, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 60, in map_httpcore_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 262, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 92, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 69, in handle_request
    stream = self._connect(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 117, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 99, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 814, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 901, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 217, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 11001] getaddrinfo failed
2025-07-13 18:08:27 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 18:08:28 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:08:32 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197613268D0>
2025-07-13 18:08:32 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:08:34 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761958890>
2025-07-13 18:08:34 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:08:35 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:08:35 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:08:35 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:08:35 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:08:37 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 15:09:20 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95e9b3675eea7402-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:08:37 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.ba9f4c0a-2756-4ae8-b8bb-0044c25001091 "HTTP/1.1 400 Bad Request"
2025-07-13 18:08:37 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:08:37 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:08:37 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:08:37 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:08:37 | ERROR | app.db.client | Error getting record from products: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 18:08:37 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'} | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 18:10:03 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 18:10:03 | DEBUG | httpcore.connection | close.started
2025-07-13 18:10:03 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:10:03 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:10:09 | DEBUG | httpcore.connection | connect_tcp.failed exception=ConnectTimeout(TimeoutError('timed out'))
2025-07-13 18:10:09 | ERROR | app.db.client | Error getting record from products: timed out
2025-07-13 18:10:09 | ERROR | ecommerce | Error: timed out | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 10, in map_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 100, in connect_tcp
    sock = socket.create_connection(
        address,
        timeout,
        source_address=source_address,
    )
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 864, in create_connection
    raise exceptions[0]
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 849, in create_connection
    sock.connect(sa)
    ~~~~~~~~~~~~^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 60, in map_httpcore_exceptions
    yield
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 262, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 245, in handle_request
    response = connection.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 92, in handle_request
    raise exc
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 69, in handle_request
    stream = self._connect(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_sync\connection.py", line 117, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_backends\sync.py", line 99, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 814, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 901, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 929, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 966, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_client.py", line 1002, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 217, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\troubleman96\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\httpx\_transports\default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout: timed out
2025-07-13 18:10:47 | INFO | ecommerce | API Request: GET /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 18:10:48 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:10:51 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761959230>
2025-07-13 18:10:52 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:10:55 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761978690>
2025-07-13 18:10:56 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:10:56 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:10:56 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:10:56 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:10:56 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:00 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:11:44 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9b6e958b5f48a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?limit=20&select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:00 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&limit=20 "HTTP/1.1 200 OK"
2025-07-13 18:11:02 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:02 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:03 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:04 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:04 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:11:05 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:11:07 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:11:08 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:11:09 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:10 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:11:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9b71468ddf48a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:10 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&user_id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:11:11 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:11 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:11 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:12 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:12 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:11:12 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:11:13 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:11:13 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:11:13 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:14 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:11:57 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9b73d4ec4f48a-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:14 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 18:11:14 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:15 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:15 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:15 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:42 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 18:11:43 | DEBUG | httpcore.connection | close.started
2025-07-13 18:11:43 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:11:44 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:11:46 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197619787D0>
2025-07-13 18:11:46 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5250> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:11:46 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001976195CEF0>
2025-07-13 18:11:47 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:11:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:11:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:11:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:11:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:48 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:12:32 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9b813aa124eb8-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:48 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 18:11:48 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:48 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:11:49 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:11:50 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:50 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:12:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95e9b8224b4f4eb8-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:51 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:11:51 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 18:11:52 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 15:12:36 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9b82dfa824eb8-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:11:52 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 18:11:52 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 18:11:52 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:11:52 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:11:52 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:11:55 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x000001976195C950> cert=None trust_env=True http2=False
2025-07-13 18:11:56 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 18:11:56 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 18:11:56 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 18:12:00 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 18:12:00 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 18:12:00 | DEBUG | stripe | body='{\n  "id": "cs_test_a1upNKf2E49FEwy0unLvWS2rgXpVjMmN8D3KLvBaieDVv0TlhUCAzMHkqp",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752419564,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752505964,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1upNKf2E49FEwy0unLvWS2rgXpVjMmN8D3KLvBaieDVv0TlhUCAzMHkqp#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 18:12:00 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_BEDxF29zxT5A3M message='Dashboard link for request'
2025-07-13 18:12:01 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 18:12:01 | DEBUG | httpcore.connection | close.started
2025-07-13 18:12:01 | DEBUG | httpcore.connection | close.complete
2025-07-13 18:12:01 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 18:12:03 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000197619661D0>
2025-07-13 18:12:03 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000197614F5400> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 18:12:03 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019761964B50>
2025-07-13 18:12:03 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 18:12:03 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 15:12:48 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95e9b87c8cc26c9c-JNB'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 18:12:04 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 18:12:04 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 18:12:04 | INFO | app.db.client | Created record in payments (admin): 77811602-baa4-4b9c-9bd7-23adaa24e953
2025-07-13 18:12:04 | ERROR | ecommerce | Error: module 'fastapi.logger' has no attribute 'info' | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully: {payment_record['id']}")
    ^^^^^^^^^^^
AttributeError: module 'fastapi.logger' has no attribute 'info'
2025-07-13 19:02:18 | DEBUG | httpcore.connection | close.started
2025-07-13 19:02:18 | DEBUG | httpcore.connection | close.complete
2025-07-13 19:02:18 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 19:02:18 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 19:02:29 | DEBUG | httpcore.connection | connect_tcp.failed exception=ConnectError(gaierror(11001, 'getaddrinfo failed'))
2025-07-13 19:02:37 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 19:02:37 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 19:02:39 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 19:02:39 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 19:02:40 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 19:02:46 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 20:44:39 | INFO | ecommerce.auth | Login attempt for itslugenge96@gmail.com
2025-07-13 20:44:39 | INFO | ecommerce | Attempting Supabase login for itslugenge96@gmail.com
2025-07-13 20:44:40 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-13 20:44:40 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC679E80>
2025-07-13 20:44:40 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201C9721F40> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5.0
2025-07-13 20:44:40 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC686490>
2025-07-13 20:44:41 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:44:41 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:44:41 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:44:42 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:44:42 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:44:42 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:45:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95ea980f6f2edea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Origin, Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'108'), (b'Set-Cookie', b'__cf_bm=pZ3jIi84VIOaGmYNUxUMiYwKe04cuB17p2VZlUiCAJo-1752428726-1.0.1.1-ROGjqmmDsfyrPtPzVargEMH4Pz_P4sbM59w5UOi2OzFpw_TA2YcbRB8.iT3GpP_gtHAY3.7niDWlJb2n3xQOnKJp98GlDmc3VP27vUXJhVc; path=/; expires=Sun, 13-Jul-25 18:15:26 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:44:43 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
2025-07-13 20:44:43 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:44:43 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:44:43 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:44:43 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:44:43 | INFO | ecommerce | Supabase login response for itslugenge96@gmail.com: user_id=2dae6068-0b4a-4519-bfa7-1933207822f8
2025-07-13 20:44:43 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:44:43 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:44:46 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:44:46 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC687890>
2025-07-13 20:44:46 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60B530> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:44:46 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC691A70>
2025-07-13 20:44:46 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:45:31 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95ea98319bf0de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'16'), (b'Set-Cookie', b'__cf_bm=ZhE.g7.OjZeGpxrkxk1xKN_uMYt9v6Oq16rcyUKFw6s-1752428731-1.0.1.1-fSIG96Gv5KACvGaEbxhkOhMrM9ysxCL0MRk8oKWVDpvsL.Gmgogq5t_lyZfZmgySaC4mgKj8jI7z3ddi03xpRdMhnXyt8jPpd5gqU4mQkcA; path=/; expires=Sun, 13-Jul-25 18:15:31 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:44:47 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:44:47 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:44:48 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:44:48 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:44:48 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:44:48 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:44:51 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:44:51 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC692780>
2025-07-13 20:44:51 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60BDA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:44:51 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC689010>
2025-07-13 20:44:51 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:44:51 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:44:51 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:44:51 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:44:51 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:44:52 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Date', b'Sun, 13 Jul 2025 17:45:36 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95ea984e9989dd97-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Set-Cookie', b'__cf_bm=I503DRkDN_6zX64LFVKfu3NzsgPVfq9VYi8.jtaS7iI-1752428736-1.0.1.1-hd2n6RxfLpYk8sbOk6j2bSleZo9eeIA89vQZlLjcyzQLxMAynipf_B3PBn3VC65nLMFxxdEzZcv56rNNB5_PRy0joV0axJFhCY2MVPJTpt4; path=/; expires=Sun, 13-Jul-25 18:15:36 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:44:52 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles "HTTP/1.1 403 Forbidden"
2025-07-13 20:44:52 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:44:52 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:44:52 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:44:52 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:44:52 | WARNING | ecommerce | Could not create profile for itslugenge96@gmail.com: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "profiles"'}
2025-07-13 20:44:52 | INFO | ecommerce.auth | Auth LOGIN: itslugenge96@gmail.com | Status: SUCCESS
2025-07-13 20:45:25 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 20:45:25 | DEBUG | httpcore.connection | close.started
2025-07-13 20:45:26 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:45:26 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:45:26 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC6B49E0>
2025-07-13 20:45:26 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60B530> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:45:26 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC6B4AF0>
2025-07-13 20:45:26 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:45:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:45:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:45:26 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:45:26 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:46:11 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95ea99272f4fdea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:45:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:45:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:46:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95ea9930a999dea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:45:28 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:45:28 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:45:29 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:46:12 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95ea99349d7bdea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:45:29 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 20:45:29 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:45:29 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:45:29 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:45:29 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:45:30 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x00000201CC69C440> cert=None trust_env=True http2=False
2025-07-13 20:45:31 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 20:45:31 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 20:45:31 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 20:45:35 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 20:45:35 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 20:45:35 | DEBUG | stripe | body='{\n  "id": "cs_test_a1JfMPbUzyia9QZFZMyZPkLA1NPTZyhq7FwxX6Qtm4x2tsqTpqJnItvmVV",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752428779,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752515179,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1JfMPbUzyia9QZFZMyZPkLA1NPTZyhq7FwxX6Qtm4x2tsqTpqJnItvmVV#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 20:45:36 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_UKU4YdTgskDSEc message='Dashboard link for request'
2025-07-13 20:45:37 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 20:45:37 | DEBUG | httpcore.connection | close.started
2025-07-13 20:45:37 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:45:37 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:45:37 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC68DD50>
2025-07-13 20:45:37 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60BDA0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:45:37 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC68DA50>
2025-07-13 20:45:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:45:37 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:45:37 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:45:37 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:45:37 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:45:38 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 17:46:22 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95ea996d5f94de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'8'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:45:38 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 20:45:38 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:45:38 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:45:38 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:45:38 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:45:38 | INFO | app.db.client | Created record in payments (admin): 193c1238-e222-4198-b9e2-94f53b7ebd28
2025-07-13 20:45:38 | ERROR | ecommerce | Error: module 'fastapi.logger' has no attribute 'info' | Context: Creating checkout session for order 34b97423-feb5-4afa-88fc-b9224de51d9c
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\payment_service.py", line 86, in create_checkout_session
    logger.info(f"Payment record created successfully for order: {payment_data.order_id}")
    ^^^^^^^^^^^
AttributeError: module 'fastapi.logger' has no attribute 'info'
2025-07-13 20:46:19 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 20:46:19 | DEBUG | httpcore.connection | close.started
2025-07-13 20:46:19 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:46:20 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:46:20 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC858140>
2025-07-13 20:46:20 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60B530> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:46:21 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC858230>
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:46:21 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 17:47:05 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95ea9a7cc9abde9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:46:21 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.ba9f4c0a-2756-4ae8-b8bb-0044c25001091 "HTTP/1.1 400 Bad Request"
2025-07-13 20:46:22 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:46:22 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:46:22 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:46:22 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:46:22 | ERROR | app.db.client | Error getting record from products: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:46:22 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'} | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:47:50 | INFO | ecommerce | API Request: GET /api/v1/products/categories/
2025-07-13 20:47:50 | INFO | ecommerce | Attempting to fetch categories from database
2025-07-13 20:47:50 | DEBUG | httpcore.connection | close.started
2025-07-13 20:47:51 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:47:51 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:47:51 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC827BD0>
2025-07-13 20:47:51 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60B530> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:47:52 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC827CB0>
2025-07-13 20:47:52 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:47:52 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:47:52 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:47:52 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:47:52 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:47:53 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:48:37 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-10/*'), (b'CF-Ray', b'95ea9cb6bbeadea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/categories?is_active=eq.True&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:47:55 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/categories?select=%2A&is_active=eq.True "HTTP/1.1 200 OK"
2025-07-13 20:47:55 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:47:56 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:47:57 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:47:57 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:47:57 | INFO | ecommerce | Found 11 categories
2025-07-13 20:48:28 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 20:48:28 | DEBUG | httpcore.connection | close.started
2025-07-13 20:48:28 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:48:29 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:48:29 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC8301F0>
2025-07-13 20:48:29 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201CC60B530> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:48:29 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201CC4C0DD0>
2025-07-13 20:48:29 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:48:29 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:48:29 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:48:29 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:48:29 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:48:30 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 17:49:14 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95ea9d9edf75dd97-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:48:30 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.ba9f4c0a-2756-4ae8-b8bb-0044c25001091 "HTTP/1.1 400 Bad Request"
2025-07-13 20:48:30 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:48:30 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:48:30 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:48:32 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:48:33 | ERROR | app.db.client | Error getting record from products: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:48:34 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'} | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:50:12 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 20:54:06 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:54:07 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:54:08 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:54:08 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:54:09 | INFO | app.db.client | Supabase clients initialized successfully
2025-07-13 20:54:16 | INFO | ecommerce | ðŸš€ FastAPI E-Commerce application starting up...
2025-07-13 20:54:40 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 20:54:40 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:54:40 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:54:43 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:54:43 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7734A660>
2025-07-13 20:54:43 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:54:43 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77355590>
2025-07-13 20:54:43 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:54:43 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:54:43 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:54:43 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:54:43 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:54:44 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 17:55:28 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95eaa6c25808de9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Set-Cookie', b'__cf_bm=5BJof7aMFgBaG4yD6AJqQ.rzBnKotXmwFAEsFJF7iqw-1752429328-1.0.1.1-kgSZb6YPihmTo5DdoqJ2W2R.FyFAr475BXSigXoz4pcAxwifgV3eJQZYlNhtvCKqF33oFN_Okl43cpXw5AIf65f8jKATMP7HJxs6X7ZNwcs; path=/; expires=Sun, 13-Jul-25 18:25:28 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:54:44 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.ba9f4c0a-2756-4ae8-b8bb-0044c25001091 "HTTP/1.1 400 Bad Request"
2025-07-13 20:54:44 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:54:44 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:54:44 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:54:44 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:54:44 | ERROR | app.db.client | Error getting record from products: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:54:44 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'} | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:55:02 | INFO | ecommerce | API Request: POST /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment | User: itslugenge96@gmail.com
2025-07-13 20:55:02 | DEBUG | httpcore.connection | close.started
2025-07-13 20:55:02 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:55:02 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:55:02 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77357750>
2025-07-13 20:55:03 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:55:03 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7735D940>
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:55:47 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa73c786cde9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:03 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:03 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:03 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 20:55:03 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 20:55:05 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:55:06 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7735E3F0>
2025-07-13 20:55:06 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A773651C0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:55:06 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77361130>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:55:50 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaa74e7b8fde9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Set-Cookie', b'__cf_bm=aCGdDPoYArpayU2qb.ULFAVG5QRN6ZQitC3Icdqoi_k-1752429350-1.0.1.1-sSvRYNMl_ZNhrxZMMBFmn9lVvAHNZZfOMoqKGiY0CMrN1WpHNi5L0hGEupP6UlL_vMfJVo9giUy1SIZCNyjejYkc88U6NmQ8_F0gnEmfOBw; path=/; expires=Sun, 13-Jul-25 18:25:50 GMT; domain=.supabase.co; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:06 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:06 | INFO | app.db.client | Retrieved record from orders (admin): 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:06 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:55:51 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa752bebcde9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:07 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:07 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:55:08 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:55:52 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaa7563c67de9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:08 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:55:08 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:55:09 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:09 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:09 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:10 | INFO | app.db.client | Retrieved 1 records from order_items (admin)
2025-07-13 20:55:11 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:55:11 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:12 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:55:12 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:12 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:55:13 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:55:56 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa770bd5fde9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/profiles?id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:13 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/profiles?select=%2A&id=eq.2dae6068-0b4a-4519-bfa7-1933207822f8 "HTTP/1.1 200 OK"
2025-07-13 20:55:14 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:55:15 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:15 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:16 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:20 | DEBUG | httpx | load_ssl_context verify=<ssl.SSLContext object at 0x0000027A773656D0> cert=None trust_env=True http2=False
2025-07-13 20:55:24 | INFO | stripe | message='Request to Stripe api' method=post url=https://api.stripe.com/v1/checkout/sessions
2025-07-13 20:55:24 | DEBUG | stripe | api_version=2025-06-30.basil message='Post details' post_data=payment_method_types[0]=card&line_items[0][price_data][currency]=usd&line_items[0][price_data][product_data][name]=Order+%2334b97423-feb5-4afa-88fc-b9224de51d9c&line_items[0][price_data][product_data][description]=Payment+for+Order+%23ORD-20250713-C52095D4&line_items[0][price_data][unit_amount]=11800&line_items[0][quantity]=1&mode=payment&success_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-success%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c%26session_id%3D%7BCHECKOUT_SESSION_ID%7D&cancel_url=http%3A%2F%2Flocalhost%3A3000%2Fpayment-cancel%3Forder_id%3D34b97423-feb5-4afa-88fc-b9224de51d9c&customer_email=itslugenge96%40gmail.com&metadata[order_id]=34b97423-feb5-4afa-88fc-b9224de51d9c&metadata[customer_email]=itslugenge96%40gmail.com
2025-07-13 20:55:24 | DEBUG | urllib3.connectionpool | Starting new HTTPS connection (1): api.stripe.com:443
2025-07-13 20:55:29 | DEBUG | urllib3.connectionpool | https://api.stripe.com:443 "POST /v1/checkout/sessions HTTP/1.1" 200 3055
2025-07-13 20:55:29 | INFO | stripe | message='Stripe API response' path=https://api.stripe.com/v1/checkout/sessions response_code=200
2025-07-13 20:55:30 | DEBUG | stripe | body='{\n  "id": "cs_test_a1r6Vf6m6yOYDKZbnbQSYer6zjmJpiCtmgNF1hKSEDFGXjIk38UcIbvZc7",\n  "object": "checkout.session",\n  "adaptive_pricing": {\n    "enabled": true\n  },\n  "after_expiration": null,\n  "allow_promotion_codes": null,\n  "amount_subtotal": 11800,\n  "amount_total": 11800,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "provider": null,\n    "status": null\n  },\n  "billing_address_collection": null,\n  "cancel_url": "http://localhost:3000/payment-cancel?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c",\n  "client_reference_id": null,\n  "client_secret": null,\n  "collected_information": {\n    "shipping_details": null\n  },\n  "consent": null,\n  "consent_collection": null,\n  "created": 1752429373,\n  "currency": "usd",\n  "currency_conversion": null,\n  "custom_fields": [],\n  "custom_text": {\n    "after_submit": null,\n    "shipping_address": null,\n    "submit": null,\n    "terms_of_service_acceptance": null\n  },\n  "customer": null,\n  "customer_creation": "if_required",\n  "customer_details": {\n    "address": null,\n    "email": "itslugenge96@gmail.com",\n    "name": null,\n    "phone": null,\n    "tax_exempt": "none",\n    "tax_ids": null\n  },\n  "customer_email": "itslugenge96@gmail.com",\n  "discounts": [],\n  "expires_at": 1752515773,\n  "invoice": null,\n  "invoice_creation": {\n    "enabled": false,\n    "invoice_data": {\n      "account_tax_ids": null,\n      "custom_fields": null,\n      "description": null,\n      "footer": null,\n      "issuer": null,\n      "metadata": {},\n      "rendering_options": null\n    }\n  },\n  "livemode": false,\n  "locale": null,\n  "metadata": {\n    "customer_email": "itslugenge96@gmail.com",\n    "order_id": "34b97423-feb5-4afa-88fc-b9224de51d9c"\n  },\n  "mode": "payment",\n  "origin_context": null,\n  "payment_intent": null,\n  "payment_link": null,\n  "payment_method_collection": "if_required",\n  "payment_method_configuration_details": null,\n  "payment_method_options": {\n    "card": {\n      "request_three_d_secure": "automatic"\n    }\n  },\n  "payment_method_types": [\n    "card"\n  ],\n  "payment_status": "unpaid",\n  "permissions": null,\n  "phone_number_collection": {\n    "enabled": false\n  },\n  "recovered_from": null,\n  "saved_payment_method_options": null,\n  "setup_intent": null,\n  "shipping_address_collection": null,\n  "shipping_cost": null,\n  "shipping_options": [],\n  "status": "open",\n  "submit_type": null,\n  "subscription": null,\n  "success_url": "http://localhost:3000/payment-success?order_id=34b97423-feb5-4afa-88fc-b9224de51d9c&session_id={CHECKOUT_SESSION_ID}",\n  "total_details": {\n    "amount_discount": 0,\n    "amount_shipping": 0,\n    "amount_tax": 0\n  },\n  "ui_mode": "hosted",\n  "url": "https://checkout.stripe.com/c/pay/cs_test_a1r6Vf6m6yOYDKZbnbQSYer6zjmJpiCtmgNF1hKSEDFGXjIk38UcIbvZc7#fidkdWxOYHwnPyd1blpxYHZxWjA0V2xfYEpXdWlNQHNOVF1HY1BIZzZLS3I0PGRycTB%2FVEdGTVNUTk4wQU9%2Fc1Q3SmFibGtjYT1cc0dCUmBqalR9d05CTDV0Rl82R2BvYnJ0SEBiamN1aElCNTVANktPTHRiPScpJ2N3amhWYHdzYHcnP3F3cGApJ2lkfGpwcVF8dWAnPyd2bGtiaWBabHFgaCcpJ2BrZGdpYFVpZGZgbWppYWB3dic%2FcXdwYHgl",\n  "wallet_options": null\n}' message='API response body'
2025-07-13 20:55:30 | DEBUG | stripe | link=https://dashboard.stripe.com/test/logs/req_yesoHUoYcoEoCQ message='Dashboard link for request'
2025-07-13 20:55:31 | INFO | app.db.client | Creating record in payments with admin client
2025-07-13 20:55:31 | DEBUG | httpcore.connection | close.started
2025-07-13 20:55:31 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:55:32 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:55:32 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773958C0>
2025-07-13 20:55:32 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A773651C0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:55:33 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773959D0>
2025-07-13 20:55:33 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:55:33 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:55:33 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:55:34 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:55:34 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:55:34 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 17:56:18 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa7f87d0cdea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'8'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:55:35 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments "HTTP/1.1 201 Created"
2025-07-13 20:55:36 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:55:37 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:55:38 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:55:38 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:55:39 | INFO | app.db.client | Created record in payments (admin): 1405afd4-b497-4078-b446-4759144e4a43
2025-07-13 20:55:40 | INFO | app.services.payment_service | Payment record created successfully for order: 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 20:55:41 | INFO | ecommerce.payment | Payment CHECKOUT_SESSION_CREATED: cs_test_a1r6Vf6m6yOYDKZbnbQSYer6zjmJpiCtmgNF1hKSEDFGXjIk38UcIbvZc7 | Amount: 118.0 | Status: pending
2025-07-13 20:55:42 | INFO | ecommerce.order | Order PAYMENT_INITIATED: 34b97423-feb5-4afa-88fc-b9224de51d9c | User: itslugenge96@gmail.com
2025-07-13 20:56:35 | INFO | ecommerce | API Request: GET /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c/payment/status | User: itslugenge96@gmail.com
2025-07-13 20:56:35 | DEBUG | httpcore.connection | close.started
2025-07-13 20:56:35 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:56:35 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:56:35 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77359850>
2025-07-13 20:56:35 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:56:35 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77359950>
2025-07-13 20:56:35 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:56:35 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:56:35 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:56:35 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:56:35 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:56:36 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:20 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa97e1d35dea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:56:36 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:56:36 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:56:36 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:56:36 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:56:36 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:56:36 | DEBUG | httpcore.connection | close.started
2025-07-13 20:56:36 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:56:36 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:56:36 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773533E0>
2025-07-13 20:56:36 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A773651C0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:56:36 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773535C0>
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:21 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaa9876dc3dea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:56:37 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:56:37 | INFO | app.db.client | Retrieved record from orders (admin): 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 20:56:37 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:22 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa98cbcf2dea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:56:38 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:56:38 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:23 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaa9919842dea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:56:39 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:56:39 | INFO | app.db.client | Retrieved 1 records from order_items (admin)
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:56:39 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:56:40 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:24 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaa996eff1dea1-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/payments?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:56:40 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/payments?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:56:40 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:56:40 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:56:40 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:56:40 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:14 | INFO | ecommerce | API Request: GET /api/v1/orders/34b97423-feb5-4afa-88fc-b9224de51d9c | User: itslugenge96@gmail.com
2025-07-13 20:57:14 | DEBUG | httpcore.connection | close.started
2025-07-13 20:57:14 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:57:14 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:57:14 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773C5C50>
2025-07-13 20:57:14 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:57:14 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773C59B0>
2025-07-13 20:57:14 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:57:14 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:57:14 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:57:14 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:57:14 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:57:59 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaaa72bff9dea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'14'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:57:15 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:15 | DEBUG | httpcore.connection | close.started
2025-07-13 20:57:15 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:57:15 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:57:15 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7739C390>
2025-07-13 20:57:15 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A773651C0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:57:15 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77191310>
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:57:15 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:58:00 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaaa797ac7de9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:57:16 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:16 | INFO | app.db.client | Retrieved record from orders (admin): 34b97423-feb5-4afa-88fc-b9224de51d9c
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:57:16 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:58:01 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaaa7fdd5fdea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:57:17 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:58:01 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaaa82fcbade9f-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:57:17 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.34b97423-feb5-4afa-88fc-b9224de51d9c "HTTP/1.1 200 OK"
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:57:17 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:17 | INFO | app.db.client | Retrieved 1 records from order_items (admin)
2025-07-13 20:57:52 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 20:57:52 | DEBUG | httpcore.connection | close.started
2025-07-13 20:57:53 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:57:53 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:57:53 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77192B10>
2025-07-13 20:57:53 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:57:53 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A76D5F120>
2025-07-13 20:57:53 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:57:53 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:57:53 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:57:53 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:57:53 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:57:54 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sun, 13 Jul 2025 17:58:38 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'95eaab64fd74de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'13'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:57:54 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.ba9f4c0a-2756-4ae8-b8bb-0044c25001091 "HTTP/1.1 400 Bad Request"
2025-07-13 20:57:54 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:57:54 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:57:54 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:57:54 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:57:54 | ERROR | app.db.client | Error getting record from products: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:57:54 | ERROR | ecommerce | Error: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'} | Context: Getting product ba9f4c0a-2756-4ae8-b8bb-0044c25001091
Traceback (most recent call last):
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\services\product_service.py", line 106, in get_product
    product_data = await db.get_record("products", product_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\app\db\client.py", line 114, in get_record
    response = self.client.table(table).select("*").eq(id_column, record_id).execute()
  File "C:\Users\troubleman96\Desktop\APIS\Ecommerce\backend\venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 70, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: "ba9f4c0a-2756-4ae8-b8bb-0044c25001091"'}
2025-07-13 20:58:26 | INFO | ecommerce | API Request: POST /api/v1/orders/cart/summary | User: itslugenge96@gmail.com
2025-07-13 20:58:26 | DEBUG | httpcore.connection | close.started
2025-07-13 20:58:26 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:58:26 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:58:26 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A76D5F8B0>
2025-07-13 20:58:26 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:58:26 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7737E990>
2025-07-13 20:58:26 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:58:26 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:58:26 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 17:59:11 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaac358ecddea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'15'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:58:27 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:58:27 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:30 | INFO | ecommerce | API Request: POST /api/v1/orders/ | User: itslugenge96@gmail.com
2025-07-13 20:59:30 | DEBUG | httpcore.connection | close.started
2025-07-13 20:59:30 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:59:30 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:59:30 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A7737EAD0>
2025-07-13 20:59:30 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A772DAA80> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:59:30 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A77365C70>
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:59:30 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 18:00:14 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaadc32fb3dea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:31 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:31 | INFO | app.db.client | Creating record in orders with admin client
2025-07-13 20:59:31 | DEBUG | httpcore.connection | close.started
2025-07-13 20:59:31 | DEBUG | httpcore.connection | close.complete
2025-07-13 20:59:31 | DEBUG | httpcore.connection | connect_tcp.started host='nluxtoziartsvilflbtf.supabase.co' port=443 local_address=None timeout=5 socket_options=None
2025-07-13 20:59:31 | DEBUG | httpcore.connection | connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773CC450>
2025-07-13 20:59:31 | DEBUG | httpcore.connection | start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027A773651C0> server_hostname='nluxtoziartsvilflbtf.supabase.co' timeout=5
2025-07-13 20:59:31 | DEBUG | httpcore.connection | start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027A773A79D0>
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:31 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 18:00:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaadcb3b15de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'6'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:32 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders "HTTP/1.1 201 Created"
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:32 | INFO | app.db.client | Created record in orders (admin): c757898b-3949-42ee-9e18-344ed793f27b
2025-07-13 20:59:32 | INFO | app.db.client | Creating record in order_items with admin client
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 201, b'Created', [(b'Date', b'Sun, 13 Jul 2025 18:00:16 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaadcf5fb8de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'3'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:32 | INFO | httpx | HTTP Request: POST https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items "HTTP/1.1 201 Created"
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'POST']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:32 | INFO | app.db.client | Created record in order_items (admin): 6acccd4d-cf39-4c66-9904-f4536d5f5451
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:59:32 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 18:00:17 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaadd278a2dea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:33 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?select=%2A&id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'PATCH']>
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'PATCH']>
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:33 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'PATCH']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 18:00:18 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'*/*'), (b'CF-Ray', b'95eaadd6fd5edea2-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'preference-applied', b'return=representation'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:34 | INFO | httpx | HTTP Request: PATCH https://nluxtoziartsvilflbtf.supabase.co/rest/v1/products?id=eq.18f0258e-8ba9-4ada-a295-cdfcbdaf8624 "HTTP/1.1 200 OK"
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'PATCH']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:34 | INFO | ecommerce.order | Order CREATED: c757898b-3949-42ee-9e18-344ed793f27b | User: itslugenge96@gmail.com
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 18:00:18 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaaddb1c87de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/orders?id=eq.c757898b-3949-42ee-9e18-344ed793f27b&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'2'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:34 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/orders?select=%2A&id=eq.c757898b-3949-42ee-9e18-344ed793f27b "HTTP/1.1 200 OK"
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:34 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:34 | INFO | app.db.client | Retrieved record from orders (admin): c757898b-3949-42ee-9e18-344ed793f27b
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | send_request_headers.started request=<Request [b'GET']>
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | send_request_headers.complete
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | send_request_body.started request=<Request [b'GET']>
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | send_request_body.complete
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | receive_response_headers.started request=<Request [b'GET']>
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 13 Jul 2025 18:00:19 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Range', b'0-0/*'), (b'CF-Ray', b'95eaaddef8d9de9e-DAR'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'Content-Location', b'/order_items?order_id=eq.c757898b-3949-42ee-9e18-344ed793f27b&select=%2A'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-profile', b'public'), (b'sb-gateway-version', b'1'), (b'sb-project-ref', b'nluxtoziartsvilflbtf'), (b'X-Content-Type-Options', b'nosniff'), (b'x-envoy-attempt-count', b'1'), (b'x-envoy-upstream-service-time', b'1'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-07-13 20:59:35 | INFO | httpx | HTTP Request: GET https://nluxtoziartsvilflbtf.supabase.co/rest/v1/order_items?select=%2A&order_id=eq.c757898b-3949-42ee-9e18-344ed793f27b "HTTP/1.1 200 OK"
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | receive_response_body.started request=<Request [b'GET']>
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | receive_response_body.complete
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | response_closed.started
2025-07-13 20:59:35 | DEBUG | httpcore.http11 | response_closed.complete
2025-07-13 20:59:35 | INFO | app.db.client | Retrieved 1 records from order_items (admin)
2025-07-13 21:10:19 | INFO | ecommerce | ðŸ›‘ FastAPI E-Commerce application shutting down...
2025-07-13 21:14:30 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 21:14:34 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 21:16:54 | DEBUG | httpx | load_ssl_context verify=True cert=None trust_env=True http2=False
2025-07-13 21:17:02 | DEBUG | httpx | load_verify_locations cafile='C:\\Users\\troubleman96\\Desktop\\APIS\\Ecommerce\\backend\\venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-07-13 21:18:21 | INFO | app.db.client | Supabase clients initialized successfully
